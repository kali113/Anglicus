# Anglicus - English Learning App

## WHAT
Cross-platform English learning application (Web + Android) with an AI-powered tutor for Spanish speakers.

### Tech Stack
- **Web**: PWA (Progressive Web App) - installable, works offline
- **Android**: APK download (for users who prefer native)
- **Backend**: Cloudflare Worker (free serverless)
- **AI**: OpenAI-compatible APIs (3-tier system)

### Project Structure
```
/web          - Web application
/android      - Android application
/api          - Backend API router (owner's keys)
/shared       - Shared types/utilities
/docs         - Documentation
```

## WHY
Help Spanish speakers learn English through:
- Always-available AI tutor with user memory
- Duolingo-style adaptive exercises generated by AI
- Personalized mistake tracking and reinforcement
- Spanish-specific error correction

## HOW

### API Key Strategy (3 tiers)
1. **Owner's keys** - Via backend router (friends & family, free)
2. **BYOK** - User's own OpenAI-compatible key has to be a bit hidden on the user settings to promote buying tier 3 plans
3. **Puter.js** - User pays for me, also  it needs to have a profit margin

### Security (CRITICAL)
- Owner's keys: Backend only, environment variables
- BYOK: Encrypted local storage, never sent to backend
- See `docs/security.md` for details

### User Memory (Token-Efficient)
- Profile, level, goals stored locally
- Mistake history for personalized exercises
- **Compressed context** sent to AI (not full history)

### Token Optimization (CRITICAL)
- Minimize input tokens (short system prompts)
- Minimize output tokens (concise AI responses)
- Reduce API requests (cache, batch, smart triggers)
- See `docs/architecture.md` for context compression strategy

### Feedback System
- Report button in app → serverless function → email to owner
- Owner email hidden (stored in backend env vars only)

### Commands
```bash
# TBD - will be defined as stack is chosen
```

### Key Documentation
- `docs/development-prompt.md` - Full prompt to start building
- `docs/security.md` - API key handling
- `docs/architecture.md` - System design & context compression
- `docs/onboarding.md` - User onboarding flow & level detection
- `docs/spanish-errors.md` - Common mistakes (AI reference)
